<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Online Store</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>
<body>

<h1>My Tool Store</h1>

<table id="products" class="table">
    <thead>
    <tr>
        <th>Title</th>
        <th>Quantity</th>
        <th>Price</th>
        <th class="">Categories</th>
    </tr>
    </thead>
    <tbody id="insertProducts"></tbody>
</table>
<button class="btn btn-primary" id="ajax" type="button">Refresh AJAX</button>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>


<script>
    (function() {
        "use strict";

        $(document).ready(function() {

        // TODO: Create an AJAX GET request for the file under data/inventory.json

            // const outPut = document.getElementById('insertProducts')

            function myStore(data) {
                let content = "";
                // outPut.innerHTML = "";
                for (let i = 0; i < data.length; i += 1) {
                    content += '<tr>'
                    content += '<td>' + data[i].title + '</td>'
                    content += '<td>' + data[i].quantity + '</td>'
                    content += '<td>' + data[i].price + '</td>'
                    content += '<td>' + data[i].categories.join(', ') + '</td>'
                    content += '</tr>';
                    // outPut.innerHTML += content;
                }
                $('#insertProducts').html(content);
            }
            $.ajax('./data/inventory.json').done(function (data) {
                myStore(data);
            })

            $('#ajax').on('click', function (){
               $.ajax('./data/inventory.json').done(function (data) {
                   myStore(data);
               })
           })


        // TODO: Take the data from inventory.json and append it to the products table
        //       HINT: Your data should come back as a JSON object; use console.log() to inspect
        //             its contents and fields
        //       HINT: You will want to target #insertProducts for your new HTML elements
        })
    })();
</script>

</body>
</html>